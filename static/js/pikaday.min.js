(function(h,p){var v;if("object"===typeof exports){try{v=require("moment")}catch(k){}module.exports=p(v)}else"function"===typeof define&&define.amd?define(function(k){try{v=k("moment")}catch(h){}return p(v)}):h.Pikaday=p(h.moment)})(this,function(h){var p="function"===typeof h,v=!!window.addEventListener,k=window.document,y=window.setTimeout,q=function(a,b,c,d){v?a.addEventListener(b,c,!!d):a.attachEvent("on"+b,c)},r=function(a,b,c,d){v?a.removeEventListener(b,c,!!d):a.detachEvent("on"+b,c)},z=function(a,
b,c){var d;k.createEvent?(d=k.createEvent("HTMLEvents"),d.initEvent(b,!0,!1),d=w(d,c),a.dispatchEvent(d)):k.createEventObject&&(d=k.createEventObject(),d=w(d,c),a.fireEvent("on"+b,d))},l=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},A=function(a){return/Array/.test(Object.prototype.toString.call(a))},m=function(a){return/Date/.test(Object.prototype.toString.call(a))&&!isNaN(a.getTime())},J=function(a,b){return[31,0===a%4&&0!==a%100||0===a%400?29:28,31,30,31,30,31,31,30,31,30,
31][b]},C=function(a){m(a)&&a.setHours(0,0,0,0)},D=function(a,b){return a.getTime()===b.getTime()},w=function(a,b,c){var d,e;for(d in b)if((e=void 0!==a[d])&&"object"===typeof b[d]&&null!==b[d]&&void 0===b[d].nodeName)m(b[d])?c&&(a[d]=new Date(b[d].getTime())):A(b[d])?c&&(a[d]=b[d].slice(0)):a[d]=w({},b[d],c);else if(c||!e)a[d]=b[d];return a},E=function(a){0>a.month&&(a.year-=Math.ceil(Math.abs(a.month)/12),a.month+=12);11<a.month&&(a.year+=Math.floor(Math.abs(a.month)/12),a.month-=12);return a},
F={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:"January February March April May June July August September October November December".split(" "),
weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" ")},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},K=function(a,b,c){for(b+=a.firstDay;7<=b;)b-=7;return c?a.i18n.weekdaysShort[b]:a.i18n.weekdays[b]},L=function(a){var b=[];if(a.isEmpty)if(a.showDaysInNextAndPreviousMonths)b.push("is-outside-current-month");else return'<td class="is-empty"></td>';a.isDisabled&&b.push("is-disabled");a.isToday&&b.push("is-today");
a.isSelected&&b.push("is-selected");a.isInRange&&b.push("is-inrange");a.isStartRange&&b.push("is-startrange");a.isEndRange&&b.push("is-endrange");return'<td data-day="'+a.day+'" class="'+b.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+a.year+'" data-pika-month="'+a.month+'" data-pika-day="'+a.day+'">'+a.day+"</button></td>"},M=function(a,b,c){var d=new Date(c,0,1);return'<td class="pika-week">'+Math.ceil(((new Date(c,b,a)-d)/864E5+d.getDay()+1)/7)+"</td>"},N=function(a,
b){return"<tr>"+(b?a.reverse():a).join("")+"</tr>"},O=function(a,b,c,d,e){var f,k,n,g=a._o,m=c===g.minYear,l=c===g.maxYear,h='<div class="pika-title">',p=!0,q=!0;n=[];for(f=0;12>f;f++)n.push('<option value="'+(c===e?f-b:12+f-b)+'"'+(f===d?" selected":"")+(m&&f<g.minMonth||l&&f>g.maxMonth?"disabled":"")+">"+g.i18n.months[f]+"</option>");e='<div class="pika-label">'+g.i18n.months[d]+'<select class="pika-select pika-select-month" tabindex="-1">'+n.join("")+"</select></div>";A(g.yearRange)?(f=g.yearRange[0],
k=g.yearRange[1]+1):(f=c-g.yearRange,k=1+c+g.yearRange);for(n=[];f<k&&f<=g.maxYear;f++)f>=g.minYear&&n.push('<option value="'+f+'"'+(f===c?" selected":"")+">"+f+"</option>");c='<div class="pika-label">'+c+g.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+n.join("")+"</select></div>";h=g.showMonthAfterYear?h+(c+e):h+(e+c);m&&(0===d||g.minMonth>=d)&&(p=!1);l&&(11===d||g.maxMonth<=d)&&(q=!1);0===b&&(h+='<button class="pika-prev'+(p?"":" is-disabled")+'" type="button">'+g.i18n.previousMonth+
"</button>");b===a._o.numberOfMonths-1&&(h+='<button class="pika-next'+(q?"":" is-disabled")+'" type="button">'+g.i18n.nextMonth+"</button>");return h+"</div>"},G=function(a){var b=this,c=b.config(a);b._onMouseDown=function(a){if(b._v){a=a||window.event;var e=a.target||a.srcElement;if(e)if(l(e,"is-disabled")||(l(e,"pika-button")&&!l(e,"is-empty")?(b.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),c.bound&&y(function(){b.hide();
c.field&&c.field.blur()},100)):l(e,"pika-prev")?b.prevMonth():l(e,"pika-next")&&b.nextMonth()),l(e,"pika-select"))b._c=!0;else if(a.preventDefault)a.preventDefault();else return a.returnValue=!1}};b._onChange=function(a){a=a||window.event;(a=a.target||a.srcElement)&&(l(a,"pika-select-month")?b.gotoMonth(a.value):l(a,"pika-select-year")&&b.gotoYear(a.value))};b._onInputChange=function(a){a.firedBy!==b&&(a=p?(a=h(c.field.value,c.format,c.formatStrict))&&a.isValid()?a.toDate():null:new Date(Date.parse(c.field.value)),
m(a)&&b.setDate(a),b._v||b.show())};b._onInputFocus=function(){b.show()};b._onInputClick=function(){b.show()};b._onInputBlur=function(){var a=k.activeElement;do if(l(a,"pika-single"))return;while(a=a.parentNode);b._c||(b._b=y(function(){b.hide()},50));b._c=!1};b._onClick=function(a){a=a||window.event;var e=a=a.target||a.srcElement;if(a){v||!l(a,"pika-select")||a.onchange||(a.setAttribute("onchange","return;"),q(a,"change",b._onChange));do if(l(e,"pika-single")||e===c.trigger)return;while(e=e.parentNode);
b._v&&a!==c.trigger&&e!==c.trigger&&b.hide()}};b.el=k.createElement("div");b.el.className="pika-single"+(c.isRTL?" is-rtl":"")+(c.theme?" "+c.theme:"");q(b.el,"mousedown",b._onMouseDown,!0);q(b.el,"touchend",b._onMouseDown,!0);q(b.el,"change",b._onChange);c.field&&(c.container?c.container.appendChild(b.el):c.bound?k.body.appendChild(b.el):c.field.parentNode.insertBefore(b.el,c.field.nextSibling),q(c.field,"change",b._onInputChange),c.defaultDate||(c.defaultDate=p&&c.field.value?h(c.field.value,c.format).toDate():
new Date(Date.parse(c.field.value)),c.setDefaultDate=!0));a=c.defaultDate;m(a)?c.setDefaultDate?b.setDate(a,!0):b.gotoDate(a):b.gotoDate(new Date);c.bound?(this.hide(),b.el.className+=" is-bound",q(c.trigger,"click",b._onInputClick),q(c.trigger,"focus",b._onInputFocus),q(c.trigger,"blur",b._onInputBlur)):this.show()};G.prototype={config:function(a){this._o||(this._o=w({},F,!0));a=w(this._o,a,!0);a.isRTL=!!a.isRTL;a.field=a.field&&a.field.nodeName?a.field:null;a.theme="string"===typeof a.theme&&a.theme?
a.theme:null;a.bound=!!(void 0!==a.bound?a.field&&a.bound:a.field);a.trigger=a.trigger&&a.trigger.nodeName?a.trigger:a.field;a.disableWeekends=!!a.disableWeekends;a.disableDayFn="function"===typeof a.disableDayFn?a.disableDayFn:null;var b=parseInt(a.numberOfMonths,10)||1;a.numberOfMonths=4<b?4:b;m(a.minDate)||(a.minDate=!1);m(a.maxDate)||(a.maxDate=!1);a.minDate&&a.maxDate&&a.maxDate<a.minDate&&(a.maxDate=a.minDate=!1);a.minDate&&this.setMinDate(a.minDate);a.maxDate&&this.setMaxDate(a.maxDate);A(a.yearRange)?
(b=(new Date).getFullYear()-10,a.yearRange[0]=parseInt(a.yearRange[0],10)||b,a.yearRange[1]=parseInt(a.yearRange[1],10)||b):(a.yearRange=Math.abs(parseInt(a.yearRange,10))||F.yearRange,100<a.yearRange&&(a.yearRange=100));return a},toString:function(a){return m(this._d)?p?h(this._d).format(a||this._o.format):this._d.toDateString():""},getMoment:function(){return p?h(this._d):null},setMoment:function(a,b){p&&h.isMoment(a)&&this.setDate(a.toDate(),b)},getDate:function(){return m(this._d)?new Date(this._d.getTime()):
null},setDate:function(a,b){if(!a)return this._d=null,this._o.field&&(this._o.field.value="",z(this._o.field,"change",{firedBy:this})),this.draw();"string"===typeof a&&(a=new Date(Date.parse(a)));if(m(a)){var c=this._o.minDate,d=this._o.maxDate;m(c)&&a<c?a=c:m(d)&&a>d&&(a=d);this._d=new Date(a.getTime());C(this._d);this.gotoDate(this._d);this._o.field&&(this._o.field.value=this.toString(),z(this._o.field,"change",{firedBy:this}));b||"function"!==typeof this._o.onSelect||this._o.onSelect.call(this,
this.getDate())}},gotoDate:function(a){var b=!0;if(m(a)){if(this.calendars){var b=new Date(this.calendars[0].year,this.calendars[0].month,1),c=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),d=a.getTime();c.setMonth(c.getMonth()+1);c.setDate(c.getDate()-1);b=d<b.getTime()||c.getTime()<d}b&&(this.calendars=[{month:a.getMonth(),year:a.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths));this.adjustCalendars()}},
adjustCalendars:function(){this.calendars[0]=E(this.calendars[0]);for(var a=1;a<this._o.numberOfMonths;a++)this.calendars[a]=E({month:this.calendars[0].month+a,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(a){isNaN(a)||(this.calendars[0].month=parseInt(a,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++;this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--;this.adjustCalendars()},gotoYear:function(a){isNaN(a)||
(this.calendars[0].year=parseInt(a,10),this.adjustCalendars())},setMinDate:function(a){C(a);this._o.minDate=a;this._o.minYear=a.getFullYear();this._o.minMonth=a.getMonth();this.draw()},setMaxDate:function(a){C(a);this._o.maxDate=a;this._o.maxYear=a.getFullYear();this._o.maxMonth=a.getMonth();this.draw()},setStartRange:function(a){this._o.startRange=a},setEndRange:function(a){this._o.endRange=a},draw:function(a){if(this._v||a){var b=this._o,c=b.minYear,d=b.maxYear,e=b.minMonth,f=b.maxMonth;a="";this._y<=
c&&(this._y=c,!isNaN(e)&&this._m<e&&(this._m=e));this._y>=d&&(this._y=d,!isNaN(f)&&this._m>f&&(this._m=f));for(c=0;c<b.numberOfMonths;c++)a+='<div class="pika-lendar">'+O(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year)+this.render(this.calendars[c].year,this.calendars[c].month)+"</div>";this.el.innerHTML=a;b.bound&&"hidden"!==b.field.type&&y(function(){b.trigger.focus()},1);if("function"===typeof this._o.onDraw){var k=this;y(function(){k._o.onDraw.call(k)},0)}}},adjustPosition:function(){var a,
b,c,d,e,f,h,n,g;if(!this._o.container){this.el.style.position="absolute";b=a=this._o.trigger;c=this.el.offsetWidth;d=this.el.offsetHeight;e=window.innerWidth||k.documentElement.clientWidth;f=window.innerHeight||k.documentElement.clientHeight;h=window.pageYOffset||k.body.scrollTop||k.documentElement.scrollTop;if("function"===typeof a.getBoundingClientRect)b=a.getBoundingClientRect(),n=b.left+window.pageXOffset,g=b.bottom+window.pageYOffset;else for(n=b.offsetLeft,g=b.offsetTop+b.offsetHeight;b=b.offsetParent;)n+=
b.offsetLeft,g+=b.offsetTop;if(this._o.reposition&&n+c>e||-1<this._o.position.indexOf("right")&&0<n-c+a.offsetWidth)n=n-c+a.offsetWidth;if(this._o.reposition&&g+d>f+h||-1<this._o.position.indexOf("top")&&0<g-d-a.offsetHeight)g=g-d-a.offsetHeight;this.el.style.left=n+"px";this.el.style.top=g+"px"}},render:function(a,b){var c=this._o,d=new Date,e=J(a,b),f=(new Date(a,b,1)).getDay(),k=[],h=[];C(d);0<c.firstDay&&(f-=c.firstDay,0>f&&(f+=7));for(var g=0===b?11:b-1,l=11===b?0:b+1,p=0===b?a-1:a,q=11===b?
a+1:a,v=J(p,g),r=e+f,t=r;7<t;)t-=7;for(var r=r+(7-t),w=t=0;t<r;t++){var u=new Date(a,b,1+(t-f)),y=m(this._d)?D(u,this._d):!1,A=D(u,d),z=t<f||t>=e+f,B=1+(t-f),H=b,I=a,E=c.startRange&&D(c.startRange,u),F=c.endRange&&D(c.endRange,u),G=c.startRange&&c.endRange&&c.startRange<u&&u<c.endRange,x;!(x=c.minDate&&u<c.minDate||c.maxDate&&u>c.maxDate)&&(x=c.disableWeekends)&&(x=u.getDay(),x=0===x||6===x);u=x||c.disableDayFn&&c.disableDayFn(u);z&&(t<f?(B=v+B,H=g,I=p):(B-=e,H=l,I=q));h.push(L({day:B,month:H,year:I,
isSelected:y,isToday:A,isDisabled:u,isEmpty:z,isStartRange:E,isEndRange:F,isInRange:G,showDaysInNextAndPreviousMonths:c.showDaysInNextAndPreviousMonths}));7===++w&&(c.showWeekNumber&&h.unshift(M(t-f,b,a)),k.push(N(h,c.isRTL)),h=[],w=0)}e=[];c.showWeekNumber&&e.push("<th></th>");for(d=0;7>d;d++)e.push('<th scope="col"><abbr title="'+K(c,d)+'">'+K(c,d,!0)+"</abbr></th>");return'<table cellpadding="0" cellspacing="0" class="pika-table">'+("<thead>"+(c.isRTL?e.reverse():e).join("")+"</thead>")+("<tbody>"+
k.join("")+"</tbody>")+"</table>"},isVisible:function(){return this._v},show:function(){if(!this._v){var a=this.el,b;b=(" "+a.className+" ").replace(" is-hidden "," ");b=b.trim?b.trim():b.replace(/^\s+|\s+$/g,"");a.className=b;this._v=!0;this.draw();this._o.bound&&(q(k,"click",this._onClick),this.adjustPosition());"function"===typeof this._o.onOpen&&this._o.onOpen.call(this)}},hide:function(){var a=this._v;if(!1!==a){this._o.bound&&r(k,"click",this._onClick);this.el.style.position="static";this.el.style.left=
"auto";this.el.style.top="auto";var b=this.el;l(b,"is-hidden")||(b.className=""===b.className?"is-hidden":b.className+" is-hidden");this._v=!1;void 0!==a&&"function"===typeof this._o.onClose&&this._o.onClose.call(this)}},destroy:function(){this.hide();r(this.el,"mousedown",this._onMouseDown,!0);r(this.el,"touchend",this._onMouseDown,!0);r(this.el,"change",this._onChange);this._o.field&&(r(this._o.field,"change",this._onInputChange),this._o.bound&&(r(this._o.trigger,"click",this._onInputClick),r(this._o.trigger,
"focus",this._onInputFocus),r(this._o.trigger,"blur",this._onInputBlur)));this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};return G});